# 🍌 Nano Banana Studio

**Nano Banana Studio** 是一个专为教育场景打造的 AI 素材生成工坊。它不仅仅是一个绘图工具，更是一个集成了教学场景适配、提示词优化、额度管理和内容风控的完整解决方案。

---

## 🌟 核心功能

### 1. 🎨 教学素材生成
*   **学科分类 (Subject)**：支持数学、科学、英语、艺术、历史等分类，生成的图片自动归档。
*   **年级适配 (Grade)**：支持从幼儿园到大学的年级选择，AI 自动调整画风（如低年级更卡通，高年级更写实）。
*   **画质分级**：提供 1K (Standard)、2K (High)、4K (Ultra) 三档画质，自动注入画质增强指令。
*   **多画幅支持**：支持 1:1、16:9 (PPT专用)、9:16 (手机海报)。

### 2. 🪄 智能辅助
*   **Magic Optimize**：内置 Prompt Engineer，一键将简单的词语（如“猫”）扩写为电影级的光影描述。
*   **沉浸式详情页**：点击图片查看完整提示词，支持一键复制，方便教学复盘。

### 3. 🛡️ 管理与风控
*   **防刷限流**：
    *   单 IP 每分钟限生成 1 张。
    *   单 IP 每周限生成 20 张（SQLite 持久化存储，重启不丢失）。
    *   额度不足时引导联系信息组。
*   **图库管理**：
    *   **精选机制**：管理员可对优质图片“加星”，普通用户默认只看到精选图片。
    *   **展示区域**：所有被标记为精选的图片将优先展示在画廊中。

---

## 🚀 快速开始

### 1. 启动服务
在项目根目录下运行一键启动脚本：

```bash
./run_dev.sh
```

此脚本会自动启动：
*   后端 API: `http://localhost:8000`
*   前端页面: `http://localhost:5173`

### 2. 管理员登录
*   点击页面右上角的 **🔒 锁图标**。
*   默认密码：`SKD-NB-ADMIN`
*   登录后可查看数据统计报表、管理精选图片。

---

## 📁 目录结构说明

```text
nano-banana-studio/
├── run_dev.sh              # 启动脚本
├── backend/                # 后端服务
│   ├── main.py             # API 主程序
│   ├── core/
│   │   ├── image_generator.py # 绘图核心 (对接 Gemini)
│   │   └── rate_limiter.py    # 限流器 (SQLite)
│   └── static/generated/   # 图片存储区 (包含 .png 和 .json 元数据)
└── frontend/               # 前端应用
    └── src/views/Workstation.vue # 核心工作台组件
```

---

## 📊 管理员手册

### 数据统计
登录管理员后，点击顶部的 **📊 报表图标**，可查看：
*   各学科生成热度
*   各年级使用分布
*   活跃 IP 排行榜

### 图片管理
在“学科画廊”中，管理员可以看到每张图片右上角的 **☆ 星星**：
*   **点亮星星**：设为精选（Featured），作为展示图片。
*   **熄灭星星**：取消精选。
*   **过滤开关**：侧边栏底部有“只看精选”开关，方便预览学生视角。

---

## 📞 支持与联系
**Copyright © 上海科技大学附属学校信息组**
如需调整额度或报告问题，请联系信息组老师。
